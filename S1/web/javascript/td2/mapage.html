<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="mapage.css">
    <title>Afficher/Masquer en JS</title>
</head>
<body onload="liens_de_liste_en_rouge()">
    <header>
        <h1>Afficher/Masquer en JS</h1>
    </header>
    <p id='p1'> paragraphe à masquer ... </p>
    <input type="button" id="cacher" value="Masquer" onclick="cache()"/>
    <br>
    <input type="button" id="change_background" value="changer la couleur de fond" onclick="changeBackground()"/>
    <h2> Les Liens </h2>
    <ul>
        <li> <a href='http://www.google.fr'> Lien 1 </a> </li>
        <li> <a href='http://www.twitter.fr'> Lien 2 </a> </li>
        <li> <a href='http://www.facebook.com'> Lien 3 </a> </li>
        <li> <a href='http://www.univ-orleans.fr'> Lien 4 </a> </li>
    </ul>
    <a href='http://www.univ-orleans.fr'> Université d'Orléans </a><br><br>
    <input type="button" id="aff_nb_liens" value="Afficher le nombre de liens" onclick="afficherlenombredelien()"/>
    <br>
    <input type="button" id="aff_liens" value="Afficher les liens" onclick="afficherliens()"/>
    <br><br>
    <a><img  onclick="change_image(this);" id="image" src="http://www.leparisien.fr/resizer/74wMQIeXKLDUKuKvSzJQME_0ULg=/932x582/arc-anglerfish-eu-central-1-prod-leparisien.s3.amazonaws.com/public/KNVYKZBDTTOXNO37FEVDTD5DJU.jpg" alt="image"> </a>
    <br><br><input type="button" id="supp_bouttons" value="Supprimer les boutons" onclick="supBouttons()"/>
    <br><br><input type="button" id="change_css" value="changer le css" onclick="changercss()"/>
    
    <script>
        function cache(){
    const pp = document.getElementById ("p1");
    const b = document.getElementById ("bt");
    if (pp.hidden){
        b.value = "Cacher";
        pp.hidden = false;
    }else{
        b.value = "Afficher";
        pp.hidden = true;
    }
}

function changeBackground () {
    document.body.style.background = generercouleur();
}

function generercouleur (){
    let rep = "rgb(";
    rep = rep + ((Math.random()*100)%256) + ",";
    rep = rep + ((Math.random()*100)%256) + ",";
    rep = rep + ((Math.random()*100)%256) + ")";
    console.log(rep);
    return rep;
}

function recupererlien(){
    return document.getElementsByTagName('a');
}

let rep = recupererlien();;
console.log(typeof rep);
console.log(rep);

function afficherlenombredelien(){
    let p = document.createElement("p");
    let texte = document.createTextNode("nombre de lien : " + recupererlien().length);
    p.appendChild(texte)
    document.body.appendChild(p);
}

function afficherliens(){
    let liens = recupererlien();
    for (let i = 0; i < liens.length; i++){
        let p = document.createElement("p");
        let texte = document.createTextNode(liens[i]);
        p.appendChild(texte)
        document.body.appendChild(p);
    }
}

function change_image (img){
    if (img.src != "https://www.wanimo.com/veterinaire/images/articles/chat/chaton-diarrhee.jpg"){
        img.src = "https://www.wanimo.com/veterinaire/images/articles/chat/chaton-diarrhee.jpg";
    } else {
        img.src = "http://www.leparisien.fr/resizer/74wMQIeXKLDUKuKvSzJQME_0ULg=/932x582/arc-anglerfish-eu-central-1-prod-leparisien.s3.amazonaws.com/public/KNVYKZBDTTOXNO37FEVDTD5DJU.jpg";
    }
}

function supBouttons(){
    var les_boutons = document.querySelectorAll('input[type="button"]');
    console.log(les_boutons);
    for (let i = 0; i < les_boutons.length; i++){
        console.log(les_boutons[i]);
        parent = les_boutons[i].parentNode;
        parent.removeChild(les_boutons[i]);
    }
}

function liens_de_liste_en_rouge(){
    var les_liens = document.querySelectorAll("ul li a");
    for (let i = 0; i < les_liens.length; i++){
        les_liens[i].classList.add ("red-link");
    }
}

function changercss(){
    //implementer la fonction
}
    </script>

</body>
</html>